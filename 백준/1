#include <stdio.h>
#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

long long arr[1025][1025];

int main(void)
{
    int n,m;
    long long now;
    int x1,y1;
    int x2,y2;
    
    scanf("%d %d",&n,&m);
    
    for(int i=1;i<=n;i++)
    {
        for(int j=1;j<=n;j++)
        {
            scanf("%lld",&now);
            if(i==1&&j==1)
                arr[i][j]=now;
            else
            {
                if(i==1)
                {
                    arr[i][j]=arr[i][j-1]+now;
                }
                else if(j==1)
                {
                    arr[i][j]=arr[i-1][j]+now;
                }
                else
                    arr[i][j]=arr[i-1][j]+arr[i][j-1]-arr[i-1][j-1]+now;
            }
        }
    }
    for(int i=0;i<m;i++)
    {
        scanf("%d %d %d %d",&x1,&y1,&x2,&y2);
        if(x1==1&y1==1)
        {
            printf("%lld\n",arr[y2][x2]);
        }
        else if(x1==1)
        {
            printf("%lld\n",arr[y2][x2]-arr[][]);
        }
        else if(y1==1)
        {
            printf("%lld\n",arr[y2][x2]-arr[x1-1][y2]);
        }
        else
            printf("%lld\n",arr[y2][x2]-arr[x1-1][y2]-arr[x2][y1-1]+arr[x1-1][y1-1]);
    }
        
}
